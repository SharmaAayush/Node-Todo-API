<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets\app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:13,&quot;tests&quot;:48,&quot;passes&quot;:48,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2018-05-29T15:40:22.069Z&quot;,&quot;end&quot;:&quot;2018-05-29T15:40:43.150Z&quot;,&quot;duration&quot;:21081,&quot;testsRegistered&quot;:48,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false,&quot;passPercentClass&quot;:&quot;success&quot;,&quot;pendingPercentClass&quot;:&quot;danger&quot;},&quot;suites&quot;:{&quot;uuid&quot;:&quot;97067c23-14e9-4c20-84eb-b8f3f49856da&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;31356a8b-6248-4b3a-b1e3-9542cfd8cf4e&quot;,&quot;title&quot;:&quot;User Route Tests&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateTodos&quot;,&quot;fullTitle&quot;:&quot;User Route Tests \&quot;before all\&quot; hook: populateTodos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:54,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(0);\nTodo.remove({}).then(() =&gt; {\n  return Todo.insertMany(todos);\n}, e =&gt; console.log(e)).then(() =&gt; done());&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;afaf8ef2-5471-4133-80eb-7c23974e04bb&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;User Route Tests \&quot;before each\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:944,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(0);\nUser.remove({}).then(() =&gt; {\n  let userOne = new User(users[0]).save();\n  let userTwo = new User(users[1]).save();\n  let userThree = new User(users[2]).save();\n  return Promise.all([userOne, userTwo, userThree]);\n}, e =&gt; console.log(e)).then(() =&gt; done());&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;39d4efa6-1aff-448f-9bac-eae8966acc52&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;67b38c0c-5533-4727-878c-5c5c202b577e&quot;,&quot;title&quot;:&quot;POST /users&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create a new user&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users should create a new user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:392,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let username = &#x27;testUser&#x27;;\nlet email = &#x27;testUser@example.com&#x27;;\nlet password = &#x27;testPassword&#x27;;\nrequest(app)\n  .post(&#x27;/users&#x27;)\n  .send({username, email, password})\n  .expect(200)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(res.body._id).then((user) =&gt; {\n      expect(user).toBeTruthy();\n      expect(user.password).not.toBe(password);\n      expect(user.username).toBe(username);\n      done();\n    }).catch(err =&gt; done(err));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;f06293fc-122a-428c-88e6-4927db470d55&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return validation error if request is invalid&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users should return validation error if request is invalid&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let username = &#x27;testUser&#x27;;\nlet email = &#x27;testUser&#x27;;\nlet password = &#x27;testPassword&#x27;;\nrequest(app)\n  .post(&#x27;/users&#x27;)\n  .send({username, email, password})\n  .expect(400)\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;69afa1d5-a602-49e3-bcf4-31688f9b1696&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an error for requests with incomplete data&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users should return an error for requests with incomplete data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let email = \&quot;testUser@example.com\&quot;;\nlet password = \&quot;testPassword\&quot;;\nrequest(app)\n  .post(&#x27;/users&#x27;)\n  .send({email, password})\n  .expect(400)\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d9981f7d-4658-4166-9b39-2d18bc3ffc0a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a user if the email is already in use&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users should not create a user if the email is already in use&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:318,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let username = &#x27;testUser&#x27;;\nlet email = users[0].email;\nlet password = &#x27;testPassword&#x27;;\nrequest(app)\n  .post(&#x27;/users&#x27;)\n  .send({username, email, password})\n  .expect(400)\n  .end(done)&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;73ae8f1b-00fb-498a-9462-06126061b4a7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f06293fc-122a-428c-88e6-4927db470d55&quot;,&quot;69afa1d5-a602-49e3-bcf4-31688f9b1696&quot;,&quot;d9981f7d-4658-4166-9b39-2d18bc3ffc0a&quot;,&quot;73ae8f1b-00fb-498a-9462-06126061b4a7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:727,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1e8bd3fd-c9aa-4287-94c7-3811c02ffb9e&quot;,&quot;title&quot;:&quot;GET /users/me&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return user if authenticated&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/me should return user if authenticated&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/me&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(200)\n  .expect((res) =&gt; {\n    expect(res.body._id).toBe(users[0]._id.toHexString());\n    expect(res.body.email).toBe(users[0].email);\n    expect(res.body.emailVarified).toBe(users[0].emailVarified);\n    expect(res.body.username).toBe(users[0].username);\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;28cabc48-de9a-4e95-a478-9c04bc15569b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if unauthenticated user sends request&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/me should return an authentication error if unauthenticated user sends request&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/me&#x27;)\n  .expect(401)\n  .expect((res) =&gt; {\n    expect(res.body).toEqual({});\n  })\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3733ecc3-7349-4098-8e87-db77044ea9dd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/me should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .get(&#x27;/users/me&#x27;)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;2531cc2a-2162-4ab2-949d-7e5fbcfb4f45&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;28cabc48-de9a-4e95-a478-9c04bc15569b&quot;,&quot;3733ecc3-7349-4098-8e87-db77044ea9dd&quot;,&quot;2531cc2a-2162-4ab2-949d-7e5fbcfb4f45&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:28,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;95d83070-a650-4399-9e0d-47b29f97979d&quot;,&quot;title&quot;:&quot;POST /users/login&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should login a valid user and return auth token&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users/login should login a valid user and return auth token&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:330,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({\n    email: users[1].email,\n    password: users[1].password\n  })\n  .expect(200)\n  .expect((res) =&gt; {\n    expect(res.headers[&#x27;x-auth&#x27;]).toBeTruthy();\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id).then((user) =&gt; {\n      expect(user.toObject().tokens[1]).toMatchObject({\n        access: &#x27;auth&#x27;,\n        token: res.headers[&#x27;x-auth&#x27;]\n      });\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5ac363bf-577a-495b-859f-809727f1fd5b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject invalid login&quot;,&quot;fullTitle&quot;:&quot;User Route Tests POST /users/login should reject invalid login&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:319,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .post(&#x27;/users/login&#x27;)\n  .send({\n    email: users[1].email,\n    password: users[1].password + 1\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.headers[&#x27;x-auth&#x27;]).toBeFalsy();\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[1]._id).then((user) =&gt; {\n      expect(user.tokens.length).toBe(1);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;17f6e03b-bd83-48a3-bfbb-337949c76faa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;5ac363bf-577a-495b-859f-809727f1fd5b&quot;,&quot;17f6e03b-bd83-48a3-bfbb-337949c76faa&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:649,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2dff59a1-fc2d-4699-af94-a28ec707c7b6&quot;,&quot;title&quot;:&quot;DELETE /users/me/token&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove auth token on logout&quot;,&quot;fullTitle&quot;:&quot;User Route Tests DELETE /users/me/token should remove auth token on logout&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(&#x27;/users/me/token&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(200)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[0]._id).then(user =&gt; {\n      expect(user.tokens.length).toBe(0);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;020123c9-df4e-46eb-b80f-b87ef034634a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 401 error for unauthenticated access&quot;,&quot;fullTitle&quot;:&quot;User Route Tests DELETE /users/me/token should return a 401 error for unauthenticated access&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(&#x27;/users/me/token&#x27;)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6c39b5c9-8e36-4b7e-b94e-0538bf35e05e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 401 error if authentication token used was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;User Route Tests DELETE /users/me/token should return a 401 error if authentication token used was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .delete(&#x27;/users/me/token&#x27;)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8afea6ff-f43d-4ff8-baac-dc158c43ae59&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;020123c9-df4e-46eb-b80f-b87ef034634a&quot;,&quot;6c39b5c9-8e36-4b7e-b94e-0538bf35e05e&quot;,&quot;8afea6ff-f43d-4ff8-baac-dc158c43ae59&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;127a476c-d1df-48e6-83ba-bfd534718ff9&quot;,&quot;title&quot;:&quot;GET /users/emailVerification&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should generate a email verification link for authenticated users&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/emailVerification should generate a email verification link for authenticated users&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/emailVerification&#x27;)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .expect(200)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[2]._id).then(user =&gt; {\n      expect(user.emailVerificationLink).toBeTruthy();\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6aa256ac-3b1a-4140-af0c-57018e62a7ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject unauthenticated acces with a 401 error code&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/emailVerification should reject unauthenticated acces with a 401 error code&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/emailVerification&#x27;)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;8d791782-4f1f-4cb8-b54c-f0759e34d854&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 401 error if authentication token being used was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/emailVerification should return a 401 error if authentication token being used was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\n\nrequest(app)\n  .get(&#x27;/users/emailVerification&#x27;)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end(done);&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1b1d6e8f-c989-46c4-bacd-3100df927364&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6aa256ac-3b1a-4140-af0c-57018e62a7ad&quot;,&quot;8d791782-4f1f-4cb8-b54c-f0759e34d854&quot;,&quot;1b1d6e8f-c989-46c4-bacd-3100df927364&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:49,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1041358a-a398-4265-9516-961e48111c90&quot;,&quot;title&quot;:&quot;GET /users/verify&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should verify the user&#x27;s email when requested with proper query parameters&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/verify should verify the user&#x27;s email when requested with proper query parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/verify&#x27;)\n  .query({\n    email: users[2].email,\n    vk: users[2].emailVerificationLink.toHexString()\n  })\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.user.email).toBe(users[2].email);\n    expect(res.body.user.emailVarified).toBeTruthy();\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    User.findById(users[2]._id).then(user =&gt; {\n      expect(user.emailVarified).toBeTruthy();\n      expect(user.email).toBe(res.body.user.email);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;fdce4a0c-3be7-4093-8ae3-23219f83f28b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error for request without query parameters&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/verify should return a 400 error for request without query parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/verify&#x27;)\n  .expect(400)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;4bd0fa2f-aeae-483d-8223-3a4c1f0c76bd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 error with a message if a user with provided email does not exist&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/verify should return a 400 error with a message if a user with provided email does not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/verify&#x27;)\n  .query({\n    email: &#x27;invalidUser@example.com&#x27;,\n    vk: new ObjectID().toHexString()\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.error).toBeTruthy();\n    expect(typeof res.body.error).toBe(\&quot;string\&quot;);\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6e307a6c-1546-4f42-beab-871639f974f5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 400 if verification query param was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;User Route Tests GET /users/verify should return a 400 if verification query param was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/users/verify&#x27;)\n  .query({\n    email: users[2].email,\n    vk: new ObjectID().toHexString()\n  })\n  .expect(400)\n  .expect(res =&gt; {\n    expect(res.body.error).toBeTruthy();\n    expect(typeof res.body.error).toBe(\&quot;string\&quot;);\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54e5ae54-715d-45a5-87a8-d3144352b1d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;fdce4a0c-3be7-4093-8ae3-23219f83f28b&quot;,&quot;4bd0fa2f-aeae-483d-8223-3a4c1f0c76bd&quot;,&quot;6e307a6c-1546-4f42-beab-871639f974f5&quot;,&quot;54e5ae54-715d-45a5-87a8-d3144352b1d4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:35,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;24a08fa3-3f73-49e8-b48c-7bfcdbf9bd6f&quot;,&quot;title&quot;:&quot;Todo Route Tests&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook: populateUsers&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests \&quot;before all\&quot; hook: populateUsers&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:936,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(0);\nUser.remove({}).then(() =&gt; {\n  let userOne = new User(users[0]).save();\n  let userTwo = new User(users[1]).save();\n  let userThree = new User(users[2]).save();\n  return Promise.all([userOne, userTwo, userThree]);\n}, e =&gt; console.log(e)).then(() =&gt; done());&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d932025a-aa10-4e16-b55b-246421bf8b5d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook: populateTodos&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests \&quot;before each\&quot; hook: populateTodos&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(0);\nTodo.remove({}).then(() =&gt; {\n  return Todo.insertMany(todos);\n}, e =&gt; console.log(e)).then(() =&gt; done());&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9f65388a-d73f-484e-ba8f-179a2b761b66&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;97b0edd5-0104-4f7e-a1d1-81b4a62b16bf&quot;,&quot;title&quot;:&quot;POST /todos&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 401 error for unauthenticated access to this route&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should return 401 error for unauthenticated access to this route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d7f99950-9b4d-4aee-b5bc-862bc524dbc1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nlet todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, token)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;5628c5a0-1ca5-4df4-a168-58e9b7e58c23&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 error for user accessing this route without verifying their email&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should return 401 error for user accessing this route without verifying their email&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6fb0addc-c91f-4ce3-8d8d-033e0393bcc5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not create a new todo if incomplete todo is provided&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should not create a new todo if incomplete todo is provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(400)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;08be65e8-87a9-4425-b762-e464d038b2e9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new todo if an authenticated user requests with with valid todo&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should create a new todo if an authenticated user requests with with valid todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(todo.title);\n    expect(res.body.description).toBe(todo.description);\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.findById(res.body._id).then(todo =&gt; {\n      expect(todo.title).toBe(res.body.title);\n      expect(todo._creator.toHexString()).toBe(users[0]._id.toHexString());\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;89ed2ca1-928a-4aab-adb2-f6cbde103afe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create a new todo without reminder if invalid reminder date was provided&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should create a new todo without reminder if invalid reminder date was provided&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;,\n  reminder: &#x27;invalid date format&#x27;\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.reminder).toBeFalsy();\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.findById(res.body._id).then(todo =&gt; {\n      expect(todo._creator.toHexString()).toBe(users[0]._id.toHexString());\n      expect(todo.reminder).toBeFalsy();\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3beaac8d-a153-417a-83ee-5e95acde4fc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not take the completedAt attribute value from the user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests POST /todos should not take the completedAt attribute value from the user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: &#x27;testTodoTitle&#x27;,\n  description: &#x27;testDescription&#x27;,\n  completed: true,\n  completedAt: 24514\n};\nrequest(app)\n  .post(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.title).toBe(todo.title);\n    expect(res.body.description).toBe(todo.description);\n    expect(res.body.completed).toBe(todo.completed);\n    expect(new Date(res.body.completedAt).getTime()).not.toBe(new Date(todo.completedAt).getTime());\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.findById(res.body._id).then(data =&gt; {\n      expect(data._creator.toHexString()).toBe(users[0]._id.toHexString());\n      expect(data.completed).toBe(true);\n      expect(new Date(data.completedAt).getTime()).not.toBe(new Date(todo.completedAt).getTime());\n      expect(new Date(data.completedAt).getTime()).toBe(new Date(res.body.completedAt).getTime());\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;81922885-47f2-41b6-8af1-7f8ce7106ed0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;d7f99950-9b4d-4aee-b5bc-862bc524dbc1&quot;,&quot;5628c5a0-1ca5-4df4-a168-58e9b7e58c23&quot;,&quot;6fb0addc-c91f-4ce3-8d8d-033e0393bcc5&quot;,&quot;08be65e8-87a9-4425-b762-e464d038b2e9&quot;,&quot;89ed2ca1-928a-4aab-adb2-f6cbde103afe&quot;,&quot;3beaac8d-a153-417a-83ee-5e95acde4fc8&quot;,&quot;81922885-47f2-41b6-8af1-7f8ce7106ed0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:71,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6de3aa3f-6b01-4705-b4c5-d6c15ce78dfd&quot;,&quot;title&quot;:&quot;GET /todos&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return a 401 error for unauthenticated access to this route&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos should return a 401 error for unauthenticated access to this route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/todos&#x27;)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;480c7147-0f6e-425e-bc1d-0642a20c8d30&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .get(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1eef3dd3-8c08-46b0-a0ff-2a506b220def&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return a 401 error for user accessing this route without verifying their email first&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos should return a 401 error for user accessing this route without verifying their email first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d90d5081-ef4c-4ffb-a1bd-7cc83f1bda80&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return all todos of an authenticated user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos should return all todos of an authenticated user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:22,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/todos&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.todos.length).toBe(1);\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.find({_creator: users[0]._id}).then(todos =&gt; {\n      expect(todos.length).toBe(res.body.todos.length);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;1a3393e5-e1ec-4d7e-9fd7-3576b3275f4e&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;480c7147-0f6e-425e-bc1d-0642a20c8d30&quot;,&quot;1eef3dd3-8c08-46b0-a0ff-2a506b220def&quot;,&quot;d90d5081-ef4c-4ffb-a1bd-7cc83f1bda80&quot;,&quot;1a3393e5-e1ec-4d7e-9fd7-3576b3275f4e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:44,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8d4f7396-985f-42a6-a2e0-2a688bf0fd35&quot;,&quot;title&quot;:&quot;GET /todos/:id&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 401 for unauthenticated access tto this route&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return 401 for unauthenticated access tto this route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/todos/${todos[0]._id}`)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;741992b0-fc76-4b71-af53-0056cf6994a4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .get(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;c984d37f-783e-47db-94ea-06efc8b0abcd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 error for user accessing this route without verifying their email first&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return 401 error for user accessing this route without verifying their email first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;90f6fa20-692b-4966-a231-5ed31a3939bc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 error if invalid todo id is used&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return 404 error if invalid todo id is used&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(&#x27;/todos/24514221&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(404)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;bc3c36bd-0278-4474-b66c-43e9aee269f0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 if the token&#x27;s id doesn&#x27;t belong to the user requesting for the todo&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return 404 if the token&#x27;s id doesn&#x27;t belong to the user requesting for the todo&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/todos/${todos[1]._id}`)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(404)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;7296ed75-c9d5-4ac0-977d-0d1ebb096d1d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return the todo if an authenticated user requests for a todo belonging to him&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests GET /todos/:id should return the todo if an authenticated user requests for a todo belonging to him&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .get(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.todo._id).toBe(todos[0]._id.toHexString());\n    expect(res.body.todo.title).toBe(todos[0].title);\n    expect(res.body.todo.description).toBe(todos[0].description);\n    expect(res.body.todo._creator).toBe(todos[0]._creator.toHexString());\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.findOne({_id: res.body.todo._id, _creator: res.body.todo._creator}).then(todo =&gt; {\n      expect(todo._id.toHexString()).toBe(todos[0]._id.toHexString());\n      expect(todo._creator.toHexString()).toBe(todos[0]._creator.toHexString());\n      expect(todo.title).toBe(todos[0].title);\n      expect(todo.description).toBe(todos[0].description);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;979f40b1-3b75-467c-b34b-fdd8dc11d158&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;741992b0-fc76-4b71-af53-0056cf6994a4&quot;,&quot;c984d37f-783e-47db-94ea-06efc8b0abcd&quot;,&quot;90f6fa20-692b-4966-a231-5ed31a3939bc&quot;,&quot;bc3c36bd-0278-4474-b66c-43e9aee269f0&quot;,&quot;7296ed75-c9d5-4ac0-977d-0d1ebb096d1d&quot;,&quot;979f40b1-3b75-467c-b34b-fdd8dc11d158&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:60,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8a988240-e728-4c1f-acb9-d6a9fa92da98&quot;,&quot;title&quot;:&quot;DELETE /todos/:id&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 401 for unauthenticated access tto this route&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should return 401 for unauthenticated access tto this route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/todos/${todos[0]._id}`)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;80766dc3-2f6c-42e3-b3e4-8700fbf005ea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .delete(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, token)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;54e51909-2936-422b-95c1-cae9025a73d1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 error for user accessing this route without verifying their email first&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should return 401 error for user accessing this route without verifying their email first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;af6f1a03-ff6b-4d57-a12f-c2d0be7108f6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 error if invalid todo id is used&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should return 404 error if invalid todo id is used&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:9,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(&#x27;/todos/24514221&#x27;)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(404)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;49b6f9d1-1f46-456f-93be-b78cb0519bbe&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not delete the todo if it doesn&#x27;t belong to the requesting user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should not delete the todo if it doesn&#x27;t belong to the requesting user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[1].tokens[0].token)\n  .expect(404)\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.find({_creator: users[0]._id}).then(todos =&gt; {\n      expect(todos.length).toBe(1);\n      expect(todos[0]._id.toHexString()).toBe(todos[0]._id.toHexString());\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;dc0fc0a3-6726-4579-a9ce-6b2617afabf5&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should delete the todo if it belongs to the requesting user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests DELETE /todos/:id should delete the todo if it belongs to the requesting user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;request(app)\n  .delete(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.todo._id).toBe(todos[0]._id.toHexString());\n    expect(res.body.todo.title).toBe(todos[0].title);\n    expect(res.body.todo.description).toBe(todos[0].description);\n    expect(res.body.todo._creator).toBe(todos[0]._creator.toHexString());\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    \n    Todo.find({_creator: users[0]._id}).then(todos =&gt; {\n      expect(todos.length).toBe(0);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;25d4e365-c1dd-4b5f-9c7f-c45d68383d3c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;80766dc3-2f6c-42e3-b3e4-8700fbf005ea&quot;,&quot;54e51909-2936-422b-95c1-cae9025a73d1&quot;,&quot;af6f1a03-ff6b-4d57-a12f-c2d0be7108f6&quot;,&quot;49b6f9d1-1f46-456f-93be-b78cb0519bbe&quot;,&quot;dc0fc0a3-6726-4579-a9ce-6b2617afabf5&quot;,&quot;25d4e365-c1dd-4b5f-9c7f-c45d68383d3c&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:63,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;90d2d98f-357e-40b2-ae70-00f9394cee43&quot;,&quot;title&quot;:&quot;PATCH /todos/:id&quot;,&quot;fullFile&quot;:&quot;E:\\Major Project\\Node-Todo\\server\\tests\\server.spec.js&quot;,&quot;file&quot;:&quot;\\server\\tests\\server.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return 401 for unauthenticated access to this route&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should return 401 for unauthenticated access to this route&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nrequest(app)\n  .patch(`/todos/${todos[0]._id}`)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;b21f09c0-000f-49d7-8d10-940dc4c3fefa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return an authentication error if authentication token was not generated by the backend&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should return an authentication error if authentication token was not generated by the backend&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nlet token = jwt.sign({\n  _id: users[0]._id.toHexString(),\n  access: &#x27;auth&#x27;\n}, &#x27;some secret used by user to generate custom token&#x27;).toString();\nrequest(app)\n  .patch(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, token)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;9cf4d2f5-0b6b-4e5d-bcb1-041804db2cc8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 401 error for user accessing this route without verifying their email first&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should return 401 error for user accessing this route without verifying their email first&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nrequest(app)\n  .patch(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[2].tokens[0].token)\n  .send(todo)\n  .expect(401)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;3dc94a64-a230-4d95-b108-dd595ce42cd0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return 404 error if invalid todo id is used&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should return 404 error if invalid todo id is used&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nrequest(app)\n  .patch(`/todos/24514221`)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(404)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;569c2a65-c768-4c26-8585-cd4c42bac283&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update todo if it doesn&#x27;t belong to the requesting user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should not update todo if it doesn&#x27;t belong to the requesting user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nrequest(app)\n  .patch(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[1].tokens[0].token)\n  .send(todo)\n  .expect(404)\n  .end(err =&gt; {\n    if (err) {\n      return done(err);\n    }\n    done();\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;d863df44-0d02-4b4c-b18e-b4138e49ae91&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update the todo if it belongs to the requesting user&quot;,&quot;fullTitle&quot;:&quot;Todo Route Tests PATCH /todos/:id should update the todo if it belongs to the requesting user&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let todo = {\n  title: \&quot;updatedTestTodo\&quot;,\n  completed: true\n};\nrequest(app)\n  .patch(`/todos/${todos[0]._id}`)\n  .set(&#x27;x-auth&#x27;, users[0].tokens[0].token)\n  .send(todo)\n  .expect(200)\n  .expect(res =&gt; {\n    expect(res.body.todo._id).toBe(todos[0]._id.toHexString());\n    expect(res.body.todo.title).toBe(todo.title);\n    expect(res.body.todo.completed).toBe(todo.completed);\n    expect(res.body.todo.completedAt).toBeTruthy();\n  })\n  .end((err, res) =&gt; {\n    if (err) {\n      return done(err);\n    }\n    Todo.findById(todos[0]._id).then(data =&gt; {\n      expect(data._id.toHexString()).toBe(res.body.todo._id);\n      done();\n    }).catch(e =&gt; done(e));\n  });&quot;,&quot;err&quot;:{},&quot;isRoot&quot;:false,&quot;uuid&quot;:&quot;6e9ec4a3-8363-4b47-afb8-d7bd02bd79a0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b21f09c0-000f-49d7-8d10-940dc4c3fefa&quot;,&quot;9cf4d2f5-0b6b-4e5d-bcb1-041804db2cc8&quot;,&quot;3dc94a64-a230-4d95-b108-dd595ce42cd0&quot;,&quot;569c2a65-c768-4c26-8585-cd4c42bac283&quot;,&quot;d863df44-0d02-4b4c-b18e-b4138e49ae91&quot;,&quot;6e9ec4a3-8363-4b47-afb8-d7bd02bd79a0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:55,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000},&quot;copyrightYear&quot;:2018}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;Node-Todo&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:true,&quot;enableCharts&quot;:true,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;mochawesome-report\\assets&quot;,&quot;jsonFile&quot;:&quot;E:\\Major Project\\Node-Todo\\mochawesome-report\\mochawesome.json&quot;,&quot;htmlFile&quot;:&quot;E:\\Major Project\\Node-Todo\\mochawesome-report\\mochawesome.html&quot;}"><div id="report"></div><script src="assets\app.js"></script></body></html>